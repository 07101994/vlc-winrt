<UserControl x:Class="VLC_WINRT_APP.Controls.SnapMiniPlayer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="using:VLC_WINRT_APP.Views.MusicPages"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             DataContext="{Binding Source={StaticResource Locator}, Path=MusicPlayerVM}">
    <Button Style="{StaticResource TextBlockButtonStyle}"
            HorizontalAlignment="Stretch"
            HorizontalContentAlignment="Stretch">
        <Button.Flyout>
            <Flyout>
                <Grid>
                    <ListView Header="{Binding CurrentTrackItem.AlbumName}">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Name}"
                                           Style="{StaticResource TitleTextBlockStyle}" />
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </Grid>
            </Flyout>
        </Button.Flyout>
        <Grid Height="70"
              Background="#282828"
              Visibility="{Binding PlayingType, Converter={StaticResource MiniPlayerVisibilityFromPlayingTypeConverter}}"
              VerticalAlignment="Top">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="70" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="70" />
                <ColumnDefinition Width="12" />
            </Grid.ColumnDefinitions>
            <Image Source="{Binding CurrentPlayingArtist.CurrentAlbumItem.AlbumImage}"
                   Grid.Column="1"
                   Stretch="UniformToFill"
                   Height="70"
                   Width="70"
                   Tapped="UIElement_OnTapped" />
            <StackPanel Grid.Column="2"
                        VerticalAlignment="Center"
                        Margin="12,0,0,0"
                        Tapped="UIElement_OnTapped">
                <TextBlock Text="{Binding CurrentTrackItem.Name}"
                           FontSize="26"
                           FontWeight="Normal" />
                <TextBlock Text="{Binding CurrentPlayingArtist.Name}"
                           FontSize="18"
                           FontWeight="Normal"
                           Foreground="#FF838383"
                           Typography.Capitals="SmallCaps" />
            </StackPanel>
            <AppBarToggleButton Grid.Column="3"
                                Label="Play"
                                IsChecked="{Binding CurrentTrackItem.Favorite}"
                                Command="{Binding CurrentTrackItem.FavoriteTrack}"
                                CommandParameter="{Binding CurrentTrackItem}"
                                Icon="Play"
                                Visibility="{Binding IsPlaying, Converter={StaticResource BooleanToVisibilityConverter}}" />
            <AppBarToggleButton Grid.Column="3"
                                Label="Pause"
                                IsChecked="{Binding CurrentTrackItem.Favorite}"
                                Command="{Binding CurrentTrackItem.FavoriteTrack}"
                                CommandParameter="{Binding CurrentTrackItem}"
                                Icon="Pause"
                                Visibility="{Binding IsPlaying, Converter={StaticResource NegatedBooleanToVisibilityConverter}}" />
        </Grid>

    </Button>
</UserControl>
